---
description: Automated git flow with intelligent branch detection, commit, release, and push - uses git-flow-automation agent
allowed-tools: Task, Bash, Read, Grep, Glob, LS
argument-hint: [optional: commit message or feature name]
---

Launch the git-flow-automation agent to execute a complete automated git flow workflow for solo development (no PRs).

## AGENT TASK:
Use your git flow expertise to automate the entire workflow:

### 1. ANALYZE CHANGES
- Run `git status` to see what changed
- Run `git diff --stat` for summary
- Run `git diff` to review actual changes
- Determine change type: feature, fix, refactor, docs, test, chore
- Auto-generate appropriate branch name based on changes

### 2. SMART BRANCH SELECTION
- **feature/** - New functionality, enhancements
- **hotfix/** - Critical production fixes (from main)
- **bugfix/** - Non-critical bug fixes (from develop)
- Switch to correct base branch before starting

### 3. EXECUTE GIT FLOW
```bash
# Start appropriate flow
git flow <type> start <auto-generated-name>

# Stage all changes  
git add -A

# Commit with smart message
# Format: <type>: <description>
# Examples: 
#   feat: add user authentication
#   fix: resolve memory leak in storage
#   refactor: simplify metadata structure
git commit -m "<generated-message>"

# Finish flow non-interactively
git flow <type> finish -F <name>
```

### 4. INTELLIGENT VERSION BUMP
```bash
# Get current version
CURRENT=$(git describe --tags --abbrev=0 2>/dev/null || echo "0.0.0")

# Smart version increment based on changes:
# - Breaking changes (major): 1.0.0 â†’ 2.0.0
# - Features (minor): 1.0.0 â†’ 1.1.0  
# - Fixes/other (patch): 1.0.0 â†’ 1.0.1

# Create release
git flow release start <new-version>
git flow release finish -F -m "Release <new-version>" <new-version>
```

### 5. PUSH EVERYTHING
```bash
git push origin main
git push origin develop  
git push --tags
```

### 6. FINAL VERIFICATION
- Confirm branches are synchronized
- Display new version created
- Show summary of operations

## AGENT INSTRUCTIONS:
- You are the git-flow-automation expert - use your knowledge
- Auto-detect everything - don't ask questions
- Generate descriptive branch names from actual changes
- Create meaningful commit messages from code changes
- Pick correct version bump based on change type
- Use `-F` flag for non-interactive mode
- If user provided "$ARGUMENTS", incorporate into commit message

## EXPECTED OUTPUT:
```
ðŸš€ Git Flow Automation Complete!

Changes detected: 5 files (3 added, 2 modified)
Type: Feature (new functionality detected)
Branch: feature/metadata-signatures
Commit: "feat: add metadata and signature support for CAS"
Version: 0.2.0 â†’ 0.3.0 (minor bump for feature)

âœ… All branches and tags pushed successfully!
```

User input: $ARGUMENTS